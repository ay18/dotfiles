# CONFIG
# ---------------------------------------------------------------
EDITOR="vim"

# Bash prompt PS1
# colors
CLR="\[$(tput sgr0)\]"
C_BLUE="$CLR\[\033[38;5;39m\]"
C_YELLOW="$CLR\[\033[38;5;228m\]"
C_RED="$CLR\[\033[38;5;203m\]"
TRI="$(echo -e '\xe2\x96\xb2')"

parse_git_branch() {
    git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/ (\1)/'
}

# prompt
export PS1="\n$C_BLUE\W $C_YELLOW$TRI$C_RED\$(parse_git_branch)\n> $CLR"

export GET_PW=$(security find-generic-password -a ${USER} -s cyee)

wfsync() {
  realsync ~/codebase
}

wfdebug() {
  . ~/dev/config/remote_debug.sh >/dev/null
}

export NVM_DIR="$HOME/.nvm"
. "/usr/local/opt/nvm/nvm.sh"

# aliases

alias reload='. ~/.bashrc'
alias bashrc='vim ~/.bashrc'
alias dotfiles='cd ~/dev/config/dotfiles'

alias sshvm='ssh -t cyee@10.228.191.43 bash -l'
alias wfcode='cd ~/codebase'
alias wfres='cd ~/codebase/resources'
alias wfphp='cd ~/codebase/php'

alias dev='cd ~/dev'
alias sb='cd ~/dev/sandbox'
alias lab='cd ~/dev/lab'

alias tmkill='tmux kill-server'

wfstart () {
  (
    cd ~/dev/; tmux new-session -d -s wfdev -n window
    tmux send-keys -t wfdev:window 'tmux split-window -h' Enter
    tmux send-keys -t wfdev:window 'tmux split-window -h' Enter
    tmux send-keys -t wfdev:window 'tmux select-layout even-horizontal' Enter
    tmux send-keys -t wfdev:window 'tmux send-keys -t .+ "wfsync" Enter' Enter 
    tmux send-keys -t wfdev:window 'tmux send-keys -t .- "wfdebug" Enter' Enter
    tmux send-keys -t wfdev:window 'tmux swap-pane -t .-' Enter
    tmux send-keys -t wfdev:window 'tmux select-pane -t .-' Enter
    tmux attach -t wfdev:window
  )
}

